(function () {
    angular
        .module("<%= name %>")
        .factory('<%= entityName%>Service', <%= entityName%>Service);

    function <%= entityName%>Service($http) {

        var api = {
            create<%= entityName%>: create<%= entityName%>,
            find<%= entityName%>ById: find<%= entityName%>ById,
            findAll<%= entityName%>s: findAll<%= entityName%>s,
            find<%= entityName%>By<%= entityName%>name: find<%= entityName%>By<%= entityName%>name,
            find<%= entityName%>ByCredentials: find<%= entityName%>ByCredentials,
            update<%= entityName%>: update<%= entityName%>,
            delete<%= entityName%>: delete<%= entityName%>
        };
        return api;


        function unregister() {
            var url = "/api/assignment/unregister";
            return $http.delete(url)
                .then(function (response) {
                    return response.data;
                });
        }


        function register(<%= entityName%>Obj) {
            var url = "/api/assignment/register";
            return $http.post(url, <%= entityName%>Obj)
                .then(function (response) {
                    return response.data;
                });
        }


        function login(<%= entityName%>name, password) {
            var url = "/api/assignment/login";
            var credentials = {
                <%= entityName%>name: <%= entityName%>name,
                password: password
            };
            return $http.post(url, credentials)
                .then(function (response) {
                    return response.data;
                });
        }

        function create<%= entityName%>(<%= entityName%>) {
            var url = "/api/assignment/<%= entityName%>";
            return $http.post(url, <%= entityName%>)
                .then(function (response) {
                    return response.data;
                });
        }

        function find<%= entityName%>By<%= entityName%>name(<%= entityName%>name) {
            var url = "/api/assignment/<%= entityName%>?<%= entityName%>name=" + <%= entityName%>name;
            return $http.get(url)
                .then(function (response) {
                    // console.log(response);
                    return response.data;
                });
        }

        function find<%= entityName%>ById(<%= entityName%>Id) {
            var url = '/api/assignment/<%= entityName%>/' + <%= entityName%>Id;
            return $http.get(url)
                .then(function (response) {
                    return response.data;
                })
        }

        function find<%= entityName%>ByCredentials(<%= entityName%>name, password) {
            var url = "/api/assignment/<%= entityName%>?<%= entityName%>name=" + <%= entityName%>name + "&password=" + password;
            return $http.get(url)
                .then(function (response) {
                    if (response.status == undefined) {
                        return null;
                    } else {
                        return response.data;
                    }
                })
        }

        function update<%= entityName%>(<%= entityName%>Id, <%= entityName%>) {
            // console.log(<%= entityName%>);
            var url = '/api/assignment/<%= entityName%>/' + <%= entityName%>Id;
            console.log(<%= entityName%>);
            return $http.put(url, <%= entityName%>)
                .then(function (response) {
                    // console.log(response.data);
                    return response.data;
                });
        }


        function delete<%= entityName%>(<%= entityName%>Id) {
            var url = '/api/assignment/<%= entityName%>/' + <%= entityName%>Id;
            return $http.delete(url)
                .then(function (response) {
                    return response.data;
                });

        }

        function findAll<%= entityName%>s() {
            var url='/api/assignment/<%= entityName%>';
            return $http.get(url)
                .then(function (response) {
                    return response.data;
                })
        }
    }
})();